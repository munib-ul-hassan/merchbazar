<% layout('layouts/adminLayout') -%>
<%-block('title','<title> About </title>')%>


<section class="container bg-white py-5">
    <div class="row">
        <div class="col-lg-12">
            <div class="mb-10">
                <label for="aboutContent" class="required form-label">About Page Content</label>
                <textarea id="aboutContent" class="form-control form-control-solid" placeholder="Enter Your Content"></textarea>
            </div>
        </div>
        <div class="col-lg-12 pt-0">
            <button id="submitBtn" class="btn btn-primary">Submit</button>
        </div>
    </div>
</section>

<script>
    $(document).ready(function() {
    // Event listener for submit button click
    $('#submitBtn').click(function() {
        // Get content from textarea
        var aboutContent = $('#aboutContent').val();

        // Create data object to send in POST request
        var data = {
            AboutDescription: aboutContent,
            Id: 'about-page' // Generate ID using Date.now()
        };

        // Send AJAX POST request
        $.ajax({
            url: '/api/about', // Your server endpoint
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(data),
            success: function(response) {
                // Handle success response
                console.log(response);
                // Optionally, show success message to user
                alert('Data submitted successfully!');
            },
            error: function(xhr, status, error) {
                // Handle error response
                console.error(xhr.responseText);
                // Optionally, show error message to user
                alert('Error submitting data. Please try again later.');
            }
        });
    });
});

</script>